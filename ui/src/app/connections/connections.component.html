<h2>Connections</h2>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <label>Name: <input formControlName="name" autocomplete="name" /></label><br />
  <label>Host: <input formControlName="host" autocomplete="host" /></label><br />
  <label>Port: <input formControlName="port" type="number" autocomplete="off" /></label><br />
  <label>Database: <input formControlName="database" autocomplete="database" /></label><br />
  <label>Username: <input formControlName="user" autocomplete="username" /></label><br />
  <label>Password: <input formControlName="password" type="password" autocomplete="current-password" /></label><br />
  <button type="button" (click)="validate()">Validate</button>
  <button type="submit">{{ editingId ? 'Update' : 'Save' }}</button>
  <button type="button" (click)="resetForm()" *ngIf="editingId">Cancel</button>
</form>
<div *ngIf="validationResult">
  <span *ngIf="validationResult.valid" style="color:green">Connection valid!</span>
  <span *ngIf="!validationResult.valid" style="color:red">Invalid: {{ validationResult.error }}</span>
</div>
<h3>Saved Connections</h3>
<table class="connections-table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Host</th>
      <th>Port</th>
      <th>Database</th>
      <th>User</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let c of connections">
      <td>{{ c.name }}</td>
      <td>{{ c.host }}</td>
      <td>{{ c.port }}</td>
      <td>{{ c.database }}</td>
      <td>{{ c.user }}</td>
      <td>
        <button (click)="editConnection(c)">Edit</button>
        <button (click)="deleteConnection(c)">Delete</button>
      </td>
    </tr>
  </tbody>
</table>
